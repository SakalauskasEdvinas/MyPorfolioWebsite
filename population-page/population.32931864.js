const t=20,e=20,a=60,r=60,n=800-r-e,l=500-t-a,o=d3.select("#chart").append("svg").attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${n+r+e} ${l+t+a}`).attr("preserveAspectRatio","xMidYMid meet").append("g").attr("transform",`translate(${r},${t})`);function s(t){fetch("https://restcountries.com/v3.1/all").then((t=>t.json())).then((e=>{let a;"population"===t?(document.querySelector("#filter-text").innerHTML="population",a=e.sort(((t,e)=>e.population-t.population))):"area"===t&&(document.querySelector("#filter-text").innerHTML="area",a=e.sort(((t,e)=>e.area-t.area)));const r=a.slice(0,10).map((e=>({country:e.name.common,value:"population"===t?e.population/1e6:"area"===t?e.area:0}))),s=d3.scaleBand().domain(r.map((t=>t.country))).range([0,n]).padding(.2),c=d3.scaleLinear().domain([0,d3.max(r,(t=>t.value))]).range([l,0]),i=o.selectAll(".bar").data(r);i.enter().append("rect").attr("class","bar").merge(i).attr("x",(t=>s(t.country))).attr("width",s.bandwidth()).attr("y",(t=>c(t.value))).attr("height",(t=>l-c(t.value))).attr("fill","steelblue"),i.exit().remove(),o.selectAll("g.x-axis").remove(),o.selectAll("g.y-axis").remove(),o.append("g").attr("class","x-axis").attr("transform",`translate(0,${l})`).call(d3.axisBottom(s)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),o.append("g").attr("class","y-axis").call(d3.axisLeft(c))})).catch((t=>{console.error("Error fetching country data:",t)}))}document.getElementById("filter").addEventListener("change",(t=>{s(t.target.value)})),s("population");
//# sourceMappingURL=population.32931864.js.map
